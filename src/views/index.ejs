<%- include('./partials/_header') %>
    <div class="flex flex-col bg-gray-100 justify-center">

        <section class=" border-b-2 mb-16">

            <div class="mx-auto sm:mt-44 mt-36 flex flex-col xl:px-68 lg:px-56 sm:px-24 px-5 items-center mb-20">
               <% if(thumbnailPost) { %>
                <a href="category-post/<%- thumbnailPost.category_id %>"
                    class="inline-flex items-center text-xl mb-3 font-medium  mt-5 text-teal-600 hover:text-teal-800"
                    title="read more"> <%- thumbnailPost.category_title %> »
                </a>

                <div
                    class="title-font lg:text-7xl text-center sm:text-5xl text-3xl mb-4 font-medium text-gray-900 tracking-tight">
                    <a href="/post/<%- thumbnailPost.post_id %>">
                        <span class="bg-gradient-to-r from-green-200 to-green-100 bg-[length:0px_10px] bg-left-bottom bg-no-repeat 
                        transition-[background-size] duration-500 hover:bg-[length:100%_20px] group-hover:bg-[length:100%_10px]
                        dark:from-teal-400 dark:to-teal-300">
                        <%- thumbnailPost.post_title %> <span
                                class="text-teal-500">. . .</span>
                        </span>
                    </a>
                </div>
                <div class="mt-4 font-normal line-clamp-3 text-md text-gray-400 text-center mb-4">
                    <a href="post/<%- thumbnailPost.post_id %>">
                        <%- thumbnailPost.post_content %>
                    </a>
                </div>


                <div class="mt-3 flex items-center space-x-3 text-gray-500 dark:text-gray-400">
                    <a href="#">
                        <div class="flex items-center gap-3">
                            <div class="relative h-8 w-8 flex-shrink-0">
                                <img alt="Mario Sanchez" loading="lazy" decoding="async" data-nimg="fill"
                                    class="rounded-full object-cover " src="<%- thumbnailPost.author_avatar %>">
                            </div><span class="truncate text-sm"><%- thumbnailPost.author %></span>
                        </div>
                    </a>
                    <span class="text-xs text-gray-300 dark:text-gray-600">•</span>
                    <% 
                        const data = new Date(thumbnailPost.post_data); 

                        const formatData = data.toLocaleString('pt-BR', { 
                            day: '2-digit', month: '2-digit', year: 'numeric', 
                            hour: '2-digit', minute: '2-digit', second: '2-digit' 
                        });
                    %>
                    <time class="truncate text-sm" datetime="<%- formatData %>"><%- formatData %></time>
                </div>

                <% } %>
            </div>

        </section>








        <!-- all categories -->
        <section class="py-10 md:py-16 border-b-2">

            <div class="container  mx-auto px-4">
                <div class="flex flex-col lg:flex-row justify-between">
                    <div class="mb-10 lg:mb-0">
                        <h1
                            class="title-font lg:text-7xl sm:text-5xl text-3xl mb-4 font-medium text-gray-900 tracking-tight">
                            Categories
                        </h1>

                        <p class="font-normal line-clamp-3 text-md text-gray-400">
                            I have brought here my biggest and favorite works
                            <br>
                            as a professional.
                        </p>
                    </div>
                    

                    <div class="space-y-24">

                        <% if(categories) { %>
                            <% categories.forEach((categorie, key) => {  %>
                        <a href="category-post/<%- categorie.id %>" class="flex space-x-6">
                            <h1 class="font-medium text-gray-900 sm:text-3xl text-2xl md:text-4xl">
                                <%- key + 1 %>
                            </h1>
                            <span class="w-28 h-0.5 bg-teal-500 mt-5"></span>

                            <div>
                                <h1 class="font-medium text-gray-900 sm:text-3xl text-2xl md:text-4xl mb-5">
                                    <%- categorie.title %>
                                </h1>

                                <p class="line-clamp-3 text-md text-gray-400">
                                    <%- categorie.description %>
                                </p>
                            </div>
                        </a>
                           <% }) %>
                        <% } %>

                    </div>




                </div>
            </div>
        </section>
       <!-- all categories -->





















     <!-- categories section -->
        <section>
            <div class=" flex px-5 mb-16 w-full mt-16">
                <div class="grid  grid-cols-1 2xl:px-64 xl:grid-cols-3 gap-8 lg:grid-cols-2 ">


                  <% if(posts) { %>
                    <% posts.forEach(post => { %>
                    <div class="group cursor-pointer border p-5">

                        <div class="overflow-hidden bg-gray-100 transition-all"><a
                                class="relative block aspect-video  hover:scale-105 " href="/post/<%- post.post_id %>">
                                <img src="<%- post.post_thumbnail %>" alt="Thumbnail" fetchpriority="high" decoding="async"
                                    data-nimg="fill" class="object-cover transition-all"
                                    style="position: absolute; height: 100%; width: 100%; inset: 0px; color: transparent;"
                                    sizes="(max-width: 768px) 30vw, 33vw"></a>
                        </div>
                        <div class="">
                            <div>
                                <div class="flex gap-3">

                                    <a href="category-post/<%- post.category_id %>"
                                        class="inline-flex items-center mb-3 font-medium  mt-5 text-teal-600 hover:text-teal-800"
                                        title="read more"> <%- post.category_title %> »
                                    </a>
                                </div>

                                <div class="font-medium text-gray-900 sm:text-2xl md:text-2xl">
                                    <a href="post/<%- post.post_id %>">
                                        <span class="bg-gradient-to-r from-green-200 to-green-100 bg-[length:0px_10px] bg-left-bottom bg-no-repeat 
                                        transition-[background-size] duration-500 hover:bg-[length:100%_3px] group-hover:bg-[length:100%_10px]
                                        dark:from-teal-400 dark:to-teal-300"><%- post.post_title %></span>
                                    </a>
                                </div>
                                <div class="mt-2 line-clamp-3 text-sm text-gray-400 ">
                                    <a href="post/<%- post.post_id %>"><%- post.post_content %>
                                    </a>
                                </div>

                                <div class="mt-3 flex items-center space-x-3 text-gray-500 dark:text-gray-400">
                                    <div href="">
                                        <div class="flex items-center gap-3">
                                            <div class="relative h-8 w-8 flex-shrink-0">
                                                <img alt="Mario Sanchez" loading="lazy" decoding="async"
                                                    data-nimg="fill" class="rounded-full object-cover "
                                                    src="<%- post.author_avatar %>">
                                            </div><span class="truncate text-sm"><%- post.author %></span>
                                        </div>
                                    </div>
                                    <% 
                                        const data = new Date(post.post_data); 
                                        const formatData = data.toLocaleString('pt-BR', { 
                                            day: '2-digit', month: '2-digit', year: 'numeric', 
                                            hour: '2-digit', minute: '2-digit', second: '2-digit' 
                                        });
                                    %>
                                    <span class="text-xs text-gray-300 dark:text-gray-600">•</span>
                                    <time class="truncate text-sm" datetime=><%- formatData %></time>
                                </div>
                            </div>
                        </div>
                    </div>
                    <% }) %>
                  <% } %>

                </div>
            </div>
        </section>

     <!-- categories section -->


 <%- include('./partials/_footer.ejs') %>